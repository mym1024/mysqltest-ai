ALTER SYSTEM SET merge_delay_interval='6s' server_type=yaodatasvr;
ALTER SYSTEM SET major_freeze_wait_time='6s' server_type=yaoadminsvr;
ALTER SYSTEM SET  min_major_freeze_interval='5s' server_type=yaotxnsvr;
ALTER SYSTEM SET min_merge_interval='5s' server_type=yaodatasvr;
ALTER SYSTEM SET  max_merge_thread_num='20' server_type=yaodatasvr;
create database statistics_info;
using database statistics_info;
set yao_enable_query_optimizer=true;
create table if not exists t1(id1 int,id3 datetime,id4 varchar(20),col1 int,col2 datetime,col3 varchar(20),col4 decimal(10, 1), col5 double, col6 float, primary key(id1, id3, id4));
replace into t1 values (0,'1000-10-10 10:10:10', 'aaa', 3, '1000-10-10 10:10:10', 'bbb', 1.1, 2.2, 3.3);
replace into t1 values (1,'1000-10-10 10:10:10', 'aaa', 4, '1000-10-10 10:10:11', 'ccc', 1.2, 2.3, 3.4);
replace into t1 values (2,'1000-10-10 10:10:10', 'aaa', 5, '1000-10-10 10:10:12', 'ddd', 1.3, 2.4, 3.5);
replace into t1 values (3,'1000-10-10 10:10:10', 'aaa', 6, '1000-10-10 10:10:13', 'eee', 1.4, 2.5, 3.6);
replace into t1 values (4,'1000-10-10 10:10:10', 'aaa', 7, '1000-10-10 10:10:14', 'fff', 1.5, 2.6, 3.7);
create table if not exists t2(id1 int,id3 datetime,id4 varchar(20),col1 int,col2 datetime,col3 varchar(20),col4 decimal(10, 1), col5 double, col6 float, primary key(id1, id3, id4));
replace into t2 values (0,'1000-10-10 10:10:10', 'aaa', 3, '1000-10-10 10:10:10', 'bbb', 1.1, 2.2, 3.3);
replace into t2 values (1,'1000-10-10 10:10:10', 'aaa', 4, '1000-10-10 10:10:11', 'ccc', 1.2, 2.3, 3.4);
replace into t2 values (2,'1000-10-10 10:10:10', 'aaa', 5, '1000-10-10 10:10:12', 'ddd', 1.3, 2.4, 3.5);
replace into t2 values (3,'1000-10-10 10:10:10', 'aaa', 6, '1000-10-10 10:10:13', 'eee', 1.4, 2.5, 3.6);
replace into t2 values (4,'1000-10-10 10:10:10', 'aaa', 7, '1000-10-10 10:10:14', 'fff', 1.5, 2.6, 3.7);
replace into t2 values (5,'1000-10-10 10:10:10', 'aaa', 8, '1000-10-10 10:10:15', 'ggg', 1.6, 2.7, 3.8);
replace into t2 values (6,'1000-10-10 10:10:10', 'aaa', 9, '1000-10-10 10:10:16', 'hhh', 1.7, 2.8, 3.9);
replace into t2 values (7,'1000-10-10 10:10:10', 'aaa', 10, '1000-10-10 10:10:17', 'iii', 1.8, 2.9, 4.0);
replace into t2 values (8,'1000-10-10 10:10:10', 'aaa', 11, '1000-10-10 10:10:18', 'jjj', 1.9, 3.0, 4.1);
replace into t2 values (9,'1000-10-10 10:10:10', 'aaa', 12, '1000-10-10 10:10:19', 'kkk', 2.0, 3.1, 4.2);
replace into t2 values (10,'1000-10-10 10:10:10', 'aaa', 13, '1000-10-10 10:10:20', 'lll', 2.1, 3.2, 4.3);
create table if not exists t3(id1 int,id3 datetime,id4 varchar(20),col1 int,col2 datetime,col3 varchar(20),col4 decimal(10, 1), col5 double, col6 float, primary key(id1, id3, id4));
replace into t3 values (0,'1000-10-10 10:10:10', 'aaa', 3, '1000-10-10 10:10:10', 'bbb', 1.1, 2.2, 3.3);
replace into t3 values (1,'1000-10-10 10:10:10', 'aaa', 4, '1000-10-10 10:10:11', 'ccc', 1.2, 2.3, 3.4);
replace into t3 values (2,'1000-10-10 10:10:10', 'aaa', 5, '1000-10-10 10:10:12', 'ddd', 1.3, 2.4, 3.5);
replace into t3 values (3,'1000-10-10 10:10:10', 'aaa', 6, '1000-10-10 10:10:13', 'eee', 1.4, 2.5, 3.6);
replace into t3 values (4,'1000-10-10 10:10:10', 'aaa', 7, '1000-10-10 10:10:14', 'fff', 1.5, 2.6, 3.7);
replace into t3 values (5,'1000-10-10 10:10:10', 'aaa', 8, '1000-10-10 10:10:15', 'ggg', 1.6, 2.7, 3.8);
replace into t3 values (6,'1000-10-10 10:10:10', 'aaa', 9, '1000-10-10 10:10:16', 'hhh', 1.7, 2.8, 3.9);
replace into t3 values (7,'1000-10-10 10:10:10', 'aaa', 10, '1000-10-10 10:10:17', 'iii', 1.8, 2.9, 4.0);
replace into t3 values (8,'1000-10-10 10:10:10', 'aaa', 11, '1000-10-10 10:10:18', 'jjj', 1.9, 3.0, 4.1);
replace into t3 values (9,'1000-10-10 10:10:10', 'aaa', 12, '1000-10-10 10:10:19', 'kkk', 2.0, 3.1, 4.2);
replace into t3 values (10,'1000-10-10 10:10:10', 'aaa', 13, '1000-10-10 10:10:20', 'lll', 2.1, 3.2, 4.3);
replace into t3 values (11,'1000-10-10 10:10:10', 'aaa', NULL, NULL,NULL,NULL, NULL,NULL);
“merge”
major_freeze...
merge: DONE
gather statistics t1(col1,col2,col3,col4,col5,col6);
gather statistics t2(col1,col2,col3,col4,col5,col6);
gather statistics t3(col1,col2,col3,col4,col5,col6);
select * from __all_udi_monitor_list;
table_id	column_id	LOAD	UDI
3001	19	0	0
3001	20	0	0
3001	21	0	0
3001	22	0	0
3001	23	0	0
3001	24	0	0
3002	19	0	0
3002	20	0	0
3002	21	0	0
3002	22	0	0
3002	23	0	0
3002	24	0	0
3003	19	0	0
3003	20	0	0
3003	21	0	0
3003	22	0	0
3003	23	0	0
3003	24	0	0
"statistics"
Okay
select * from __all_statistic_info;
table_id	column_id	start_key	version	type	row_count	different_num	size	info	min_max
3001	19	MIN	2	16	5	5	158681	3171615141	37
3001	20	MIN	2	5	5	5	158681	-305858517330000001-305858517290000001-305858517300000001-305858517310000001-305858517320000001	-30585851733000000-30585851729000000
3001	21	MIN	2	6	5	5	158681	bbb1fff1eee1ddd1ccc1	bbbfff
3001	22	MIN	2	12	5	5	158681	1.111.511.411.311.21	1.11.5
3001	23	MIN	2	3	5	5	158681	2.212.612.512.412.31	2.22.6
3001	24	MIN	2	2	5	5	158681	3.313.713.613.513.41	3.33.7
3002	19	MIN	2	16	11	11	159167	121111101918171615141131	313
3002	20	MIN	2	5	11	11	159167	-305858517240000001-305858517250000001-305858517260000001-305858517270000001-305858517280000001-305858517290000001-305858517300000001-305858517310000001-305858517320000001-305858517230000001	-30585851733000000-30585851723000000
3002	21	MIN	2	6	11	11	159167	kkk1jjj1iii1hhh1ggg1fff1eee1ddd1ccc1lll1	bbblll
3002	22	MIN	2	12	11	11	159167	2.011.911.811.711.611.511.411.311.212.11	1.12.1
3002	23	MIN	2	3	11	11	159167	3.11312.912.812.712.612.512.412.313.21	2.23.2
3002	24	MIN	2	2	11	11	159167	4.214.11413.913.813.713.613.513.414.31	3.34.3
3003	19	MIN	2	16	12	12	159212	111101918171615141131NULL1	313
3003	20	MIN	2	5	12	12	159212	-305858517250000001-305858517260000001-305858517270000001-305858517280000001-305858517290000001-305858517300000001-305858517310000001-305858517320000001-305858517230000001NULL1	-30585851733000000-30585851723000000
3003	21	MIN	2	6	12	12	159212	jjj1iii1hhh1ggg1fff1eee1ddd1ccc1lll1NULL1	bbblll
3003	22	MIN	2	12	12	12	159212	1.911.811.711.611.511.411.311.212.11NULL1	1.12.1
3003	23	MIN	2	3	12	12	159212	312.912.812.712.612.512.412.313.21NULL1	2.23.2
3003	24	MIN	2	2	12	12	159212	4.11413.913.813.713.613.513.414.31NULL1	3.34.3
drop table if exists t1;
drop table if exists t2;
drop table if exists t3;
drop database statistics_info;
