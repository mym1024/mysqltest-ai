ALTER SYSTEM SET merge_delay_interval='6s' server_type=yaodatasvr;
ALTER SYSTEM SET major_freeze_wait_time='6s' server_type=yaoadminsvr;
ALTER SYSTEM SET  min_major_freeze_interval='5s' server_type=yaotxnsvr;
ALTER SYSTEM SET min_merge_interval='5s' server_type=yaodatasvr;
ALTER SYSTEM SET  max_merge_thread_num='20' server_type=yaodatasvr;
alter system set balance_max_concurrent_migrate_num=30 server_type=yaoadminsvr;
alter system set balance_max_migrate_in_per_ds=6 server_type=yaoadminsvr;
alter system set balance_max_migrate_out_per_ds=6 server_type=yaoadminsvr;
alter system set max_migrate_task_count=6 server_type=yaodatasvr;
create table t1(c1 int,c2 int,c3 int,c4 int,c5 int,primary key(c1,c2));
create table t2(c1 int,c2 int,c3 int,c4 int,c5 int,primary key(c1,c2));
create table t3(c1 int,c2 int,c3 int,c4 int,c5 int,primary key(c1,c2));
create index i1 on t3(c2) storing(c3);
create index i2 on t3(c4);
create table t4(c1 int,c2 int,c3 int,c4 int,c5 int,primary key(c1,c2));
create index i1 on t4(c2) storing(c3);
create index i2 on t4(c4);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t2 values(10,10,30,40,50);
insert into t2 values(11,11,31,41,51);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t4 values(10,10,30,40,50);
insert into t4 values(11,11,31,41,51);
"merge"
major_freeze...
select * from t1;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
10	10	30	40	50
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
11	11	31	41	51
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t2 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
10	10	30	40	50
select * from t2 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
10	10	30	40	50
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
11	11	31	41	51
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t4 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
10	10	30	40	50
select * from t4 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
11	11	31	41	51
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t2 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
10	10	30	40	50
select * from t2 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t4 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
10	10	30	40	50
select * from t4 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
11	11	31	41	51
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
"merge"
minor_freeze...
"drop memtable"
[drop] err=0
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
"merge"
minor_freeze...
"drop memtable"
[drop] err=0
insert into t1 values(10,14,30,40,50);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(10,14,30,40,50);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
"merge"
major_freeze...
"drop memtable"
[drop] err=0
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
"merge"
minor_freeze...
"drop memtable"
[drop] err=0
insert into t1 values(15,15,30,40,50);
insert into t1 values(10,14,30,40,50);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(15,15,30,40,50);
insert into t3 values(10,14,30,40,50);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t1 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
"merge"
minor_freeze...
"drop memtable"
[drop] err=0
insert into t1 values(15,15,30,40,50);
insert into t1 values(10,14,30,40,50);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(15,15,30,40,50);
insert into t3 values(10,14,30,40,50);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t1 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
insert into t1 values(15,15,30,40,50);
insert into t1 values(10,14,30,40,50);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(15,15,30,40,50);
insert into t3 values(10,14,30,40,50);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t1 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
insert into t1 values(15,15,30,40,50);
insert into t1 values(10,14,30,40,50);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(15,15,30,40,50);
insert into t3 values(10,14,30,40,50);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t1 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
insert into t1 values(15,15,30,40,50);
insert into t1 values(10,14,30,40,50);
insert into t1 values(10,10,30,40,50);
insert into t1 values(11,11,31,41,51);
insert into t1 values(11,10,30,40,50);
replace into t1 values(10,11,30,40,50);
update t1 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t1 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
delete from t1 where c1 = 11 and c2 = 10;
insert into t3 values(15,15,30,40,50);
insert into t3 values(10,14,30,40,50);
insert into t3 values(10,10,30,40,50);
insert into t3 values(11,11,31,41,51);
insert into t3 values(11,10,30,40,50);
replace into t3 values(10,11,30,40,50);
update t3 set c1 = 13, c2 = 12 where c1 = 10 and c2 = 10;
update t3 set c3 = 33, c4 = 44, c5 = 55 where c1 = 11 and c2 = 11;
update t3 set c4 = 100 where c1 = 11 and c2 = 10;
update t3 set c5 = 100 where c1 = 10 and c2 = 11;
delete from t3 where c1 = 11 and c2 = 10;
truncate table t1,t3;
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t1 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
"merge"
major_freeze...
"drop memtable"
[drop] err=0
select * from t1;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t1 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t1 where c1 = 10 and c2 = 14;
c1	c2	c3	c4	c5
select * from t1 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t2;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
select * from t3;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 11;
c1	c2	c3	c4	c5
select * from t3 where c1 = 11 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 13 and c2 = 12;
c1	c2	c3	c4	c5
select * from t3 where c1 = 10 and c2 = 10;
c1	c2	c3	c4	c5
select * from t3 where c1 = 15 and c2 = 15;
c1	c2	c3	c4	c5
select * from t4;
c1	c2	c3	c4	c5
10	10	30	40	50
11	11	31	41	51
