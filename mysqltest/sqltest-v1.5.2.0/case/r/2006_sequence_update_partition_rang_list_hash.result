create or replace sequence seq1 as integer start with 0 increment by -2 minvalue 0 maxvalue 4 cycle;
drop table if exists t0,t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition a1 values less than(3),partition a2 values less than(6),partition a3 values less than(13),partition a4 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
create table t0(id int primary key,age int,name varchar(20)) partition by list(id)(partition b1 values in(1,3,5,7,9),partition b2 values in(2,4,6,8,10));
insert into t0 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
select * from t0;
id	age	name
1	-99	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
select * from t1;
id	age	name
1	-99	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	4	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t0;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t0;
id	age	name
1	-99	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t0 set age=prevval for seq1+nextval for seq1 where id=1;
select prevval for seq1 from t0;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t0;
id	age	name
1	6	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t0 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t0;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t0;
id	age	name
1	6	a
2	0	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t0 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t0;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t0;
id	age	name
1	6	a
2	0	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t0 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=1;
select prevval for seq1 from t0;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t0;
id	age	name
1	16	a
2	0	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by -2 minvalue 0 maxvalue 4 cycle;
drop table t1;
create hash partition function h1(x) 'x*2-1';
create table t1(id int primary key,age int,name varchar(20)) partition by(h1t,h1,id);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	4	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	8	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	0	a
3	-99	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	0	a
3	-99	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	-1	a
2	0	a
3	-99	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as smallint increment by -2 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-5
-5
-5
-5
-5
-5
-5
-5
-5
-5
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-9
-9
-9
-9
-9
-9
-9
-9
-9
-9
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by -2 minvalue 0 maxvalue 4 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition c1 values less than(5),partition c2 values less than (8),partition c3 values less than(12),partition c4 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 2 minvalue 0 maxvalue 1000000000 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by list(id)(partition d1 values in(-1,1,3,5,7,9),partition d2 values in(2,4,6,8,10,0,11));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	14	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	14	a
create or replace sequence seq1 as smallint increment by -2 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by list(id)(partition d1 values in(-1,1,3,5,7,9),partition d2 values in(2,4,6,8,10,-21));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
ERROR HY000: YAO-5702: Table has no partition for given value.
select prevval for seq1 from t1;
prevval for seq1
-5
-5
-5
-5
-5
-5
-5
-5
-5
-5
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 1 minvalue 0 maxvalue 40000;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by list(id)(partition d1 values in(-1,1,3,5,7,9),partition d2 values in(2,4,6,8,10,0));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	8	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	45	a
5	-99	a
6	8	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 1 minvalue 0 maxvalue 40000;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
select nextval for seq1 from t1;
nextval for seq1
0
1
2
3
4
5
6
7
8
9
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
10
10
10
10
10
10
10
10
10
10
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
10
10
10
10
10
10
10
10
10
10
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	10	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
10
10
10
10
10
10
10
10
10
10
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	20	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
11
11
11
11
11
11
11
11
11
11
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	21	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
12
12
12
12
12
12
12
12
12
12
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	21	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
12
12
12
12
12
12
12
12
12
12
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	21	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
13
13
13
13
13
13
13
13
13
13
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	10	a
10	21	a
create or replace sequence seq1 as smallint increment by -2;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-5
-5
-5
-5
-5
-5
-5
-5
-5
-5
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-9
-9
-9
-9
-9
-9
-9
-9
-9
-9
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as int;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	2	a
2	5	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	66	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by -2 minvalue 101 maxvalue 105 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
103
103
103
103
103
103
103
103
103
103
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
101
101
101
101
101
101
101
101
101
101
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
101
101
101
101
101
101
101
101
101
101
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by -2 minvalue 101 maxvalue 105 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
103
103
103
103
103
103
103
103
103
103
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
101
101
101
101
101
101
101
101
101
101
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
101
101
101
101
101
101
101
101
101
101
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
105
105
105
105
105
105
105
105
105
105
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) increment by -2 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-5
-5
-5
-5
-5
-5
-5
-5
-5
-5
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-9
-9
-9
-9
-9
-9
-9
-9
-9
-9
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 1 minvalue 101 maxvalue 10500 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	8	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	45	a
5	-99	a
6	8	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 1 minvalue 1 maxvalue 105 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	4	a
2	-99	a
3	28	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) increment by -2 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-5
-5
-5
-5
-5
-5
-5
-5
-5
-5
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-9
-9
-9
-9
-9
-9
-9
-9
-9
-9
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 1 minvalue 10 maxvalue 105;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	8	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	6	a
3	-99	a
4	45	a
5	-99	a
6	8	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 1 minvalue 1 maxvalue 105;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	4	a
2	-99	a
3	28	a
4	6	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) increment by -2;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-3
-3
-3
-3
-3
-3
-3
-3
-3
-3
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-5
-5
-5
-5
-5
-5
-5
-5
-5
-5
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-7
-7
-7
-7
-7
-7
-7
-7
-7
-7
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-9
-9
-9
-9
-9
-9
-9
-9
-9
-9
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0);
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	2	a
2	5	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	66	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 2 minvalue 0 maxvalue 4 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	0	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	0	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	0	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 2 minvalue 0 maxvalue 4 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	4	a
2	-99	a
3	0	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	4	a
2	-99	a
3	0	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	4	a
2	-99	a
3	0	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as smallint increment by 2 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 2 minvalue 0 maxvalue 400 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
8
8
8
8
8
8
8
8
8
8
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	112	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 2 minvalue 0 maxvalue 400 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	14	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	14	a
create or replace sequence seq1 as smallint increment by 2 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 2 minvalue 0 maxvalue 4000;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
8
8
8
8
8
8
8
8
8
8
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	112	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 2 minvalue 0 maxvalue 400;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	14	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	14	a
create or replace sequence seq1 as smallint increment by 2;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as int;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	2	a
2	5	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	66	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 2 minvalue 101 maxvalue 105 cycle;
drop table t1;
create hash partition function h4(x)'x%2-1';
create table t1(id int primary key,age int,name varchar(20)) partition by(h4t,h4,id);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
8
8
8
8
8
8
8
8
8
8
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	112	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 2 minvalue 101 maxvalue 105 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	14	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	14	a
create or replace sequence seq1 as decimal(5,0) increment by 2 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 2 minvalue 101 maxvalue 105 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition r0 values less than(5),partition r1 values less than (10),partition r2 values less than maxvalue);
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
8
8
8
8
8
8
8
8
8
8
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	112	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 2 minvalue 101 maxvalue 105 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	14	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	14	a
create or replace sequence seq1 as decimal(5,0) increment by 2 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 2 minvalue 101 maxvalue 105;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	0	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
8
8
8
8
8
8
8
8
8
8
select * from t1;
id	age	name
1	0	a
2	6	a
3	-99	a
4	12	a
5	-99	a
6	112	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 2 minvalue 101 maxvalue 105;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	4	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	14	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	4	a
2	-99	a
3	10	a
4	-99	a
5	-99	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	14	a
create or replace sequence seq1 as decimal(5,0) increment by 2;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0);
drop table t1;
create table t1(id int primary key,age int,name varchar(20));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	2	a
2	5	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	66	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 0 minvalue 0 maxvalue 4 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 0 minvalue 0 maxvalue 4 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as smallint increment by 0 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 0 minvalue 0 maxvalue 4 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 0 minvalue 0 maxvalue 4 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as smallint increment by 0 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as integer start with 0 increment by 0 minvalue 0 maxvalue 4;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as bigint start with -1 increment by 0 minvalue 0 maxvalue 4;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as smallint increment by 0;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as int;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
2
2
2
2
2
2
2
2
2
2
select * from t1;
id	age	name
1	2	a
2	4	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	2	a
2	5	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
4
4
4
4
4
4
4
4
4
4
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
6
6
6
6
6
6
6
6
6
6
select * from t1;
id	age	name
1	2	a
2	5	a
3	8	a
4	-99	a
5	66	a
6	-99	a
7	-99	a
8	10	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 0 minvalue 101 maxvalue 105 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 0 minvalue 101 maxvalue 105 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) increment by 0 cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 0 minvalue 101 maxvalue 105 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 0 minvalue 101 maxvalue 105 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) increment by 0 no cycle;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 0 increment by 0 minvalue 101 maxvalue 105;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
0
0
0
0
0
0
0
0
0
0
select * from t1;
id	age	name
1	0	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with -1 increment by 0 minvalue 101 maxvalue 105;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
select * from t1;
id	age	name
1	-1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) increment by 0;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	2	a
2	2	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
create or replace sequence seq1 as decimal(5,0) start with 1 increment by 2 minvalue 1 maxvalue 104;
drop table t1;
create table t1(id int primary key,age int,name varchar(20)) partition by range(id)(partition z1 values less than(4),partition z2 values less than(maxvalue));
insert into t1 values(1,-99,'a'),(2,-99,'a'),(3,-99,'a'),(4,-99,'a'),(5,-99,'a'),(6,-99,'a'),(7,-99,'a'),(8,-99,'a'),(9,-99,'a'),(10,-99,'a');
update t1 set age=nextval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	1	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=-98 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
1
1
1
1
1
1
1
1
1
1
select * from t1;
id	age	name
1	-98	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	-99	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	3	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1 where id=nextval for seq1;
ERROR HY000: YAO-5006: NEXTVAL FOR SEQUENCE [seq1] cannot be specified in this context
update t1 set age=prevval for seq1+prevval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
3
3
3
3
3
3
3
3
3
3
select * from t1;
id	age	name
1	3	a
2	-99	a
3	6	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=prevval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
5
5
5
5
5
5
5
5
5
5
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	-99	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=nextval for seq1+nextval for seq1 where id=prevval for seq1+prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
7
7
7
7
7
7
7
7
7
7
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	-99	a
8	-99	a
9	-99	a
10	-99	a
update t1 set age=(nextval for seq1+prevval for seq1)*nextval for seq1 where id=prevval for seq1;
select prevval for seq1 from t1;
prevval for seq1
9
9
9
9
9
9
9
9
9
9
select * from t1;
id	age	name
1	3	a
2	-99	a
3	8	a
4	-99	a
5	14	a
6	-99	a
7	144	a
8	-99	a
9	-99	a
10	-99	a
