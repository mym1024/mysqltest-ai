set names utf8mb4;
create database db1;
show create database db1;
Database	Create Database
db1	CREATE DATABASE db1 COLLATE 'utf8mb4_general_ci'
show create database yao;
Database	Create Database
yao	CREATE DATABASE yao COLLATE 'utf8mb4_general_ci'
create database db2 charset 'gbk' collate 'gbk_bin';
show create database db2;
Database	Create Database
db2	CREATE DATABASE db2 COLLATE 'gbk_bin'
alter database db2 charset 'utf8mb4' collate 'utf8mb4_general_ci';
show create database db2;
Database	Create Database
db2	CREATE DATABASE db2 COLLATE 'utf8mb4_general_ci'
create database db3 character set 'gbk';
show create database db3;
Database	Create Database
db3	CREATE DATABASE db3 COLLATE 'gbk_chinese_ci'
create database db4 collate 'gbk_bin';
show create database db4;
Database	Create Database
db4	CREATE DATABASE db4 COLLATE 'gbk_bin'
alter database db4 collate utf8mb4_bin;
show create database db4;
Database	Create Database
db4	CREATE DATABASE db4 COLLATE 'utf8mb4_bin'
create database db5 character set gb18030_2022 collate gb18030_2022_stroke_ci;
show create database db5;
Database	Create Database
db5	CREATE DATABASE db5 COLLATE 'gb18030_2022_stroke_ci'
CREATE DATABASE db6 CHARSET utf16;
show create database db6;
Database	Create Database
db6	CREATE DATABASE db6 COLLATE 'utf16_general_ci'
CREATE DATABASE db7 CHARSET = binary;
ALTER DATABASE db7 collate gb18030_bin;
show create database db7;
Database	Create Database
db7	CREATE DATABASE db7 COLLATE 'gb18030_bin'
CREATE DATABASE db8 collate = gb18030_2022_stroke_ci;
ALTER DATABASE db8 CHARSET latin1;
show create database db8;
Database	Create Database
db8	CREATE DATABASE db8 COLLATE 'latin1_swedish_ci'
create database d1 character set binary;
create database d2 character set utf8mb4 collate utf8mb4_general_ci;
create database d3 character set utf8mb4 collate utf8mb4_bin;
create database d4 character set gbk collate gbk_chinese_ci;
create database d5 character set utf16 collate utf16_general_ci;
create database d6 character set utf16 collate utf16_bin;
create database d7 character set gb18030 collate gb18030_chinese_ci;
create database d8 character set gb18030 collate gb18030_bin;
create database d9 character set latin1 collate latin1_swedish_ci;
create database d10 character set latin1 collate latin1_bin;
create database d11 character set gb18030_2022 collate gb18030_2022_bin;
create database d12 character set gb18030_2022 collate gb18030_2022_chinese_ci;
create database d13 character set gb18030_2022 collate gb18030_2022_chinese_cs;
create database d14 character set gb18030_2022 collate gb18030_2022_radical_ci;
create database d15 character set gb18030_2022 collate gb18030_2022_radical_cs;
create database d16 character set gb18030_2022 collate gb18030_2022_stroke_cs;
drop database d1;
create database db5 collate 'gbk';
ERROR HY000: YAO-5143: Unknown COLLATION
create database db character set utf16 collate utf16_unicode_ci;
ERROR HY000: YAO-5143: Unknown COLLATION
create database db character set 'gbka' collate 'gbk_bina';
ERROR HY000: YAO-5142: Unknown CHARACTER
create database db character set =binary collate = utf16_general_ci;
ERROR HY000: YAO-5144: COLLATION 'utf16_general_ci' is not valid for CHARACTER SET 'binary'
create database db character set binary collate binary;
ERROR 42000: YAO-5001: You have an error in your SQL syntax; check the manual that corresponds to your YaoBase version for the right syntax 
alter database db10 charset 'gbk';
ERROR HY000: YAO-5602: Database not exist
create table t1(c1 int,c2 varchar(255)) character set binary;
create table t2(c1 int,c2 varchar(255)) character set utf8mb4 collate utf8mb4_general_ci;
create table t3(c1 int,c2 varchar(255)) character set utf8mb4 collate utf8mb4_bin;
create table t5(c1 int,c2 varchar(255)) character set gbk collate gbk_bin;
create table t6(c1 int,c2 varchar(255)) character set utf16 collate utf16_general_ci;
create table t7(c1 int,c2 varchar(255)) character set utf16 collate utf16_bin;
create table t8(c1 int,c2 varchar(255)) character set gb18030 collate gb18030_chinese_ci;
create table t9(c1 int,c2 varchar(255)) character set gb18030 collate gb18030_bin;
create table t10(c1 int,c2 varchar(255)) character set latin1 collate latin1_swedish_ci;
create table t11(c1 int,c2 varchar(255)) character set latin1 collate latin1_bin;
create table t12(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_bin;
create table t13(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_chinese_ci;
create table t14(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_chinese_cs;
create table t15(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_radical_ci;
create table t16(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_radical_cs;
create table t17(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_stroke_ci;
create table t18(c1 int,c2 varchar(255)) character set gb18030_2022 collate gb18030_2022_stroke_cs;
drop table t1,t2,t3,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18;
create table tb1(name varchar(255), age int, addr varchar(255));
show create table tb1;
Table	Create Table
test.tb1	CREATE TABLE tb1 (
name VARCHAR (255) COLLATE 'utf8mb4_general_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'utf8mb4_general_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
ALTER TABLE tb1 CHARACTER SET utf8;
show create table tb1;
Table	Create Table
test.tb1	CREATE TABLE tb1 (
name VARCHAR (255) COLLATE 'utf8mb4_general_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'utf8mb4_general_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table tb2(col1 varchar(255))charset 'gbk' collate 'gbk_bin';
alter table tb2 character set 'utf8mb4' collate 'utf8mb4_general_ci';
show create table tb2;
Table	Create Table
test.tb2	CREATE TABLE tb2 (
col1 VARCHAR (255) COLLATE 'gbk_bin'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
CREATE TABLE tb3 (c1 INT, c2 VARCHAR(32), c3 VARCHAR(32),c4 bit(1),c5 json, PRIMARY KEY (c1),UNIQUE KEY idx_tb3_c2(c2));
ALTER TABLE tb3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin;
ALTER TABLE tb3 CONVERT TO CHARACTER SET gbk COLLATE gbk_bin;
show create table tb3;
Table	Create Table
test.tb3	CREATE TABLE tb3 (
c1 INT(10),
c2 VARCHAR (32) COLLATE 'utf8mb4_general_ci',
c3 VARCHAR (32) COLLATE 'utf8mb4_general_ci',
c4 BIT,
c5 JSON,
 PRIMARY KEY(c1),
 UNIQUE KEY idx_tb3_c2(c2)
) COLLATE = 'gbk_bin', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
ALTER TABLE tb3 CHARACTER SET gb18030_2022;
show create table tb3;
Table	Create Table
test.tb3	CREATE TABLE tb3 (
c1 INT(10),
c2 VARCHAR (32) COLLATE 'utf8mb4_general_ci',
c3 VARCHAR (32) COLLATE 'utf8mb4_general_ci',
c4 BIT,
c5 JSON,
 PRIMARY KEY(c1),
 UNIQUE KEY idx_tb3_c2(c2)
) COLLATE = 'gb18030_2022_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
ALTER TABLE tb3 COLLATE latin1_bin;
show create table tb3;
Table	Create Table
test.tb3	CREATE TABLE tb3 (
c1 INT(10),
c2 VARCHAR (32) COLLATE 'utf8mb4_general_ci',
c3 VARCHAR (32) COLLATE 'utf8mb4_general_ci',
c4 BIT,
c5 JSON,
 PRIMARY KEY(c1),
 UNIQUE KEY idx_tb3_c2(c2)
) COLLATE = 'latin1_bin', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table tb4(name varchar(255), age int, addr varchar(255))charset 'gbk';
show create  table tb4;
Table	Create Table
test.tb4	CREATE TABLE tb4 (
name VARCHAR (255) COLLATE 'gbk_chinese_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
alter table tb4 convert to character set 'utf8mb4';
show create table tb4;
Table	Create Table
test.tb4	CREATE TABLE tb4 (
name VARCHAR (255) COLLATE 'gbk_chinese_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table tb5(name varchar(255), age int, addr varchar(255)) collate 'gbk_bin';
show create table tb5;
Table	Create Table
test.tb5	CREATE TABLE tb5 (
name VARCHAR (255) COLLATE 'gbk_bin',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_bin'
) COLLATE = 'gbk_bin', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
alter table tb5 collate 'gbk_bin';
show create table tb5;
Table	Create Table
test.tb5	CREATE TABLE tb5 (
name VARCHAR (255) COLLATE 'gbk_bin',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_bin'
) COLLATE = 'gbk_bin', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
alter database test charset 'gbk';
create table tb6(name varchar(255), age int, addr varchar(255));
show create table tb1;
Table	Create Table
test.tb1	CREATE TABLE tb1 (
name VARCHAR (255) COLLATE 'utf8mb4_general_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'utf8mb4_general_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
show create table tb6;
Table	Create Table
test.tb6	CREATE TABLE tb6 (
name VARCHAR (255) COLLATE 'gbk_chinese_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
ALTER TABLE tb1 CHARACTER SET utf8 COLLATE latin1_danish_ci;
ERROR HY000: YAO-5142: CHARACTER is not vaild, please check it
create table tb7(name varchar(255), age int, addr varchar(255)) charset 'gbk' collate 'utf8mb4_bin';
ERROR HY000: YAO-16: COLLATE is not vaild for CHARACTER SET
alter table tb4 convert to character set 'gbk' collate'utf8mb4_bin';
ERROR HY000: YAO-16: COLLATE is not vaild for CHARACTER SET
CREATE TABLE t1 ( a CHAR(1) ) CHARACTER SET utf8;
CREATE TABLE t2 ( a CHAR(1) ) CHARACTER SET "utf8";
CREATE TABLE t3 ( a CHAR(1) ) CHARACTER SET 'utf8';
CREATE TABLE t4 ( a CHAR(1) ) CHARACTER SET `utf8`;
DROP TABLE t1, t2, t3, t4;
create table tab(
c1 VARCHAR(5) character set binary,
c2 VARCHAR(5) character set utf8mb4 collate utf8mb4_general_ci comment 'utf8mb4',
c3 VARCHAR(5) character set utf8mb4 collate utf8mb4_bin,
c4 VARCHAR(5) character set gbk collate gbk_chinese_ci,
c5 VARCHAR(5) character set gbk collate gbk_bin,
c6 VARCHAR(5) character set utf16 collate utf16_general_ci,
c7 VARCHAR(5) character set utf16 collate utf16_bin,
c8 VARCHAR(5) character set gb18030 collate gb18030_chinese_ci,
c9 VARCHAR(5) character set gb18030 collate gb18030_bin,
c10 VARCHAR(5) character set latin1 collate latin1_swedish_ci,
c11 VARCHAR(5) character set latin1 collate latin1_bin,
c12 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_bin,
c13 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_chinese_ci,
c14 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_chinese_cs,
c15 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_radical_ci,
c16 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_radical_cs,
c17 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_stroke_ci,
c18 VARCHAR(5) character set gb18030_2022 collate gb18030_2022_stroke_cs);
show create table tab;
Table	Create Table
test.tab	CREATE TABLE tab (
c1 VARCHAR (5) COLLATE 'binary',
c2 VARCHAR (5) COLLATE 'utf8mb4_general_ci' COMMENT 'utf8mb4' ,
c3 VARCHAR (5) COLLATE 'utf8mb4_bin',
c4 VARCHAR (5) COLLATE 'gbk_chinese_ci',
c5 VARCHAR (5) COLLATE 'gbk_bin',
c6 VARCHAR (5) COLLATE 'utf16_general_ci',
c7 VARCHAR (5) COLLATE 'utf16_bin',
c8 VARCHAR (5) COLLATE 'gb18030_chinese_ci',
c9 VARCHAR (5) COLLATE 'gb18030_bin',
c10 VARCHAR (5) COLLATE 'latin1_swedish_ci',
c11 VARCHAR (5) COLLATE 'latin1_bin',
c12 VARCHAR (5) COLLATE 'gb18030_2022_bin',
c13 VARCHAR (5) COLLATE 'gb18030_2022_chinese_ci',
c14 VARCHAR (5) COLLATE 'gb18030_2022_chinese_cs',
c15 VARCHAR (5) COLLATE 'gb18030_2022_radical_ci',
c16 VARCHAR (5) COLLATE 'gb18030_2022_radical_cs',
c17 VARCHAR (5) COLLATE 'gb18030_2022_stroke_ci',
c18 VARCHAR (5) COLLATE 'gb18030_2022_stroke_cs'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table t(c1 int);
SHOW CREATE TABLE t;
Table	Create Table
test.t	CREATE TABLE t (
c1 INT(10)
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
ALTER TABLE t ADD c2 int COLLATE 'binary';
SHOW CREATE TABLE t;
Table	Create Table
test.t	CREATE TABLE t (
c1 INT(10),
c2 INT(10)
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table t1(col1 varchar(255) character set 'gbk' collate 'gbk_bin');
alter table t1 modify col1 varchar(255)  character set 'utf8mb4' collate 'utf8mb4_bin';
SHOW CREATE TABLE t1;
Table	Create Table
test.t1	CREATE TABLE t1 (
col1 VARCHAR (255) COLLATE 'utf8mb4_bin'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
CREATE TABLE t2 (f1 CHAR(20) COLLATE 'binary');
SHOW CREATE TABLE t2;
Table	Create Table
test.t2	CREATE TABLE t2 (
f1 VARCHAR (20) COLLATE 'binary'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
CREATE TABLE t3 (col1 VARCHAR(5) CHARACTER SET gb18030 COLLATE 'gb18030_chinese_ci');
SHOW CREATE TABLE t3;
Table	Create Table
test.t3	CREATE TABLE t3 (
col1 VARCHAR (5) COLLATE 'gb18030_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
ALTER TABLE t3 MODIFY col1 VARCHAR(5) CHARACTER SET gbk COLLATE gbk_chinese_ci;
SHOW CREATE TABLE t3;
Table	Create Table
test.t3	CREATE TABLE t3 (
col1 VARCHAR (5) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
CREATE TABLE t4(c1 json CHARACTER SET 'gb18030_2022' COLLATE 'gb18030_2022_chinese_ci');
ERROR 42000: YAO-5001: You have an error in your SQL syntax; check the manual that corresponds to your YaoBase version for the right syntax 
create table t5(name varchar(255) charset 'utf8mb4', age int, addr varchar(255));
show create table t5;
Table	Create Table
test.t5	CREATE TABLE t5 (
name VARCHAR (255) COLLATE 'utf8mb4_general_ci',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
alter table t5 modify name varchar(255) collate 'gbk_bin';
show create table t5;
Table	Create Table
test.t5	CREATE TABLE t5 (
name VARCHAR (255) COLLATE 'gbk_bin',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table t6(name varchar(255) collate 'gbk_bin', age int, addr varchar(255));
show create table t6;
Table	Create Table
test.t6	CREATE TABLE t6 (
name VARCHAR (255) COLLATE 'gbk_bin',
age INT(10),
addr VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gbk_chinese_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
CREATE TABLE t7 (col1 VARCHAR(5) CHARACTER SET utf8mb4 COLLATE 'gb18030_chinese_ci');
ERROR HY000: YAO-5177: COLLATION 'gb18030_chinese_ci' is not valid for CHARACTER SET 'utf8mb4'
drop table t1,t2,t3,t5,t6;
create database test1;
use test1;
create table t1(str_def varchar(255), str_utf8 varchar(255) charset 'utf8mb4', str_gbk varchar(255) charset 'gbk', str_latin varchar(255) charset 'latin1', str_utf16 varchar(255) charset 'utf16', str_binary varchar(255) charset 'binary', str_gb varchar(255) charset 'gb18030');
insert into t1 values(_utf8mb4'ä¸­æ–‡å­—ç¬¦', _utf8mb4'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', _latin1'ä¸­æ–‡å­—ç¬¦', _utf16'ä¸­æ–‡å­—ç¬¦', _binary'ä¸­æ–‡å­—ç¬¦', _gb18030'ä¸­æ–‡å­—ç¬¦');
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ
alter table t1 add column str_def2 varchar(255);
show create table t1;
Table	Create Table
test1.t1	CREATE TABLE t1 (
str_def VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_utf8 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gbk VARCHAR (255) COLLATE 'gbk_chinese_ci',
str_latin VARCHAR (255) COLLATE 'latin1_swedish_ci',
str_utf16 VARCHAR (255) COLLATE 'utf16_general_ci',
str_binary VARCHAR (255) COLLATE 'binary',
str_gb VARCHAR (255) COLLATE 'gb18030_chinese_ci',
str_def2 VARCHAR (255) COLLATE 'utf8mb4_general_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	NULL
insert into t1(str_def2) values(_utf8mb4'ä¸­æ–‡å­—ç¬¦');
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	ä¸­æ–‡å­—ç¬¦
update t1 set str_def2=_utf8mb4'è‹±æ–‡å­—ç¬¦';
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	è‹±æ–‡å­—ç¬¦
NULL	NULL	NULL	NULL	NULL	NULL	NULL	è‹±æ–‡å­—ç¬¦
delete from t1;
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2
insert into t1 values(_utf8mb4'ä¸­æ–‡å­—ç¬¦', _utf8mb4'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', _latin1'ä¸­æ–‡å­—ç¬¦', _utf16'ä¸­æ–‡å­—ç¬¦', _binary'ä¸­æ–‡å­—ç¬¦', _gb18030'ä¸­æ–‡å­—ç¬¦',_utf8mb4'ä¸­æ–‡å­—ç¬¦');
alter table t1 add column str_gbk2 varchar(255) charset 'gbk';
show create table t1;
Table	Create Table
test1.t1	CREATE TABLE t1 (
str_def VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_utf8 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gbk VARCHAR (255) COLLATE 'gbk_chinese_ci',
str_latin VARCHAR (255) COLLATE 'latin1_swedish_ci',
str_utf16 VARCHAR (255) COLLATE 'utf16_general_ci',
str_binary VARCHAR (255) COLLATE 'binary',
str_gb VARCHAR (255) COLLATE 'gb18030_chinese_ci',
str_def2 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gbk2 VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gbk2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦	NULL
insert into t1(str_gbk2) values(_gbk'ä¸­æ–‡å­—ç¬¦');
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gbk2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	æ¶“î…Ÿæƒç€›æ¥ƒîƒ
update t1 set str_gbk2=_gbk'è‹±æ–‡å­—ç¬¦';
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gbk2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦	é‘»è¾¨æƒç€›æ¥ƒîƒ
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	é‘»è¾¨æƒç€›æ¥ƒîƒ
delete from t1;
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gbk2
alter table t1 drop column str_gbk2;
show create table t1;
Table	Create Table
test1.t1	CREATE TABLE t1 (
str_def VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_utf8 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gbk VARCHAR (255) COLLATE 'gbk_chinese_ci',
str_latin VARCHAR (255) COLLATE 'latin1_swedish_ci',
str_utf16 VARCHAR (255) COLLATE 'utf16_general_ci',
str_binary VARCHAR (255) COLLATE 'binary',
str_gb VARCHAR (255) COLLATE 'gb18030_chinese_ci',
str_def2 VARCHAR (255) COLLATE 'utf8mb4_general_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
insert into t1 values(_utf8mb4'ä¸­æ–‡å­—ç¬¦', _utf8mb4'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', _latin1'ä¸­æ–‡å­—ç¬¦', _utf16'ä¸­æ–‡å­—ç¬¦', _binary'ä¸­æ–‡å­—ç¬¦', _gb18030'ä¸­æ–‡å­—ç¬¦',_utf8mb4'ä¸­æ–‡å­—ç¬¦');
alter table t1 add column str_gb2 varchar(255) charset 'gb18030';
show create table t1;
Table	Create Table
test1.t1	CREATE TABLE t1 (
str_def VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_utf8 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gbk VARCHAR (255) COLLATE 'gbk_chinese_ci',
str_latin VARCHAR (255) COLLATE 'latin1_swedish_ci',
str_utf16 VARCHAR (255) COLLATE 'utf16_general_ci',
str_binary VARCHAR (255) COLLATE 'binary',
str_gb VARCHAR (255) COLLATE 'gb18030_chinese_ci',
str_def2 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gb2 VARCHAR (255) COLLATE 'gb18030_chinese_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gb2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦	NULL
insert into t1(str_gb2) values(_gb18030'ä¸­æ–‡å­—ç¬¦');
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gb2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	æ¶“î…Ÿæƒç€›æ¥ƒîƒ
update t1 set str_gb2=_gb18030'è‹±æ–‡å­—ç¬¦';
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gb2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦	é‘»è¾¨æƒç€›æ¥ƒîƒ
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	é‘»è¾¨æƒç€›æ¥ƒîƒ
delete from t1;
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2	str_gb2
alter table t1 drop column str_gb2;
show create table t1;
Table	Create Table
test1.t1	CREATE TABLE t1 (
str_def VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_utf8 VARCHAR (255) COLLATE 'utf8mb4_general_ci',
str_gbk VARCHAR (255) COLLATE 'gbk_chinese_ci',
str_latin VARCHAR (255) COLLATE 'latin1_swedish_ci',
str_utf16 VARCHAR (255) COLLATE 'utf16_general_ci',
str_binary VARCHAR (255) COLLATE 'binary',
str_gb VARCHAR (255) COLLATE 'gb18030_chinese_ci',
str_def2 VARCHAR (255) COLLATE 'utf8mb4_general_ci'
) COLLATE = 'utf8mb4_general_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
delete from t1;
alter table t1 modify str_def varchar(255) charset 'binary';
insert into t1 values(_binary'ä¸­æ–‡å­—ç¬¦', _utf8mb4'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', _latin1'ä¸­æ–‡å­—ç¬¦', _utf16'ä¸­æ–‡å­—ç¬¦', _binary'ä¸­æ–‡å­—ç¬¦',  _gb18030'ä¸­æ–‡å­—ç¬¦',_binary'ä¸­æ–‡å­—ç¬¦');
select * from t1;
str_def	str_utf8	str_gbk	str_latin	str_utf16	str_binary	str_gb	str_def2
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	ä¸­æ–‡å­—ç¬¦
drop table t1;
create table t1(col1 varchar(255) character set 'gbk' collate 'gbk_bin')character set 'latin1' collate 'latin1_bin';
create table t2(col1 varchar(255) character set 'gbk')character set 'latin1';
show create table t1;
Table	Create Table
test1.t1	CREATE TABLE t1 (
col1 VARCHAR (255) COLLATE 'gbk_bin'
) COLLATE = 'latin1_bin', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
show create table t2;
Table	Create Table
test1.t2	CREATE TABLE t2 (
col1 VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'latin1_swedish_ci', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create database test2 character set utf16 collate utf16_bin;
use test2;
create table t3(col1 varchar(255) character set 'gbk')COLLATE 'gb18030_2022_bin';
show create table t3;
Table	Create Table
test2.t3	CREATE TABLE t3 (
col1 VARCHAR (255) COLLATE 'gbk_chinese_ci'
) COLLATE = 'gb18030_2022_bin', COMPRESS_METHOD = 'none', REPLICA_NUM = 3 ;
create table t2(str_def varchar(255));
insert into t2(str_def) values(_utf8mb4'ä¸­æ–‡å­—ç¬¦');
select * from t2;
str_def
ä¸­æ–‡å­—ç¬¦
update t2 set str_def=_utf8mb4'è‹±æ–‡å­—ç¬¦';
select * from t2;
str_def
è‹±æ–‡å­—ç¬¦
delete from t2;
select * from t2;
str_def
alter table t2 charset 'utf8mb4';
alter table t2 add column str_utf8 varchar(255);
insert into t2(str_utf8) values(_utf8mb4'ä¸­æ–‡å­—ç¬¦');
select * from t2;
str_def	str_utf8
NULL	ä¸­æ–‡å­—ç¬¦
update t2 set str_utf8=_utf8mb4'è‹±æ–‡å­—ç¬¦';
select * from t2;
str_def	str_utf8
NULL	è‹±æ–‡å­—ç¬¦
alter table t2 drop column str_utf8;
insert into t2(str_def) values(_utf8mb4'ä¸­æ–‡å­—ç¬¦');
select * from t2;
str_def
NULL
ä¸­æ–‡å­—ç¬¦
update t2 set str_def=_utf8mb4'è‹±æ–‡å­—ç¬¦';
select * from t2;
str_def
è‹±æ–‡å­—ç¬¦
è‹±æ–‡å­—ç¬¦
delete from t2;
select * from t2;
str_def
create database db_test;
use db_test;
create table t1 (str_def varchar(255));
insert into t1 values(_utf8mb4'ä¸­æ–‡å­—ç¬¦');
select * from t1;
str_def
ä¸­æ–‡å­—ç¬¦
alter database db_test charset 'utf16';
create table t2 (str_utf16 varchar(255));
insert into t2 values(_utf16'ä¸­æ–‡å­—ç¬¦');
select * from t2;
str_utf16
î’¸ê·¦éš‡î–­éŸ§ê²¦
update t2 set str_utf16=_utf16'è‹±æ–‡å­—ç¬¦';
select * from t2;
str_utf16
î¢‹ë‡¦éš‡î–­éŸ§ê²¦
delete from t2;
alter database db_test charset 'gb18030_2022';
create table t3 (str_gb20 varchar(255));
insert into t3 values(_gb18030_2022'ä¸­æ–‡å­—ç¬¦');
select * from t3;
str_gb20
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
update t3 set str_gb20=_gb18030_2022'è‹±æ–‡å­—ç¬¦';
select * from t3;
str_gb20
é‘»è¾¨æƒç€›æ¥ƒîƒ
delete from t3;
select * from t3;
str_gb20
SHOW CHARACTER SET;
Charset	Description	Default collation	Maxlen
binary	Binary pseudo charset	binary	1
utf8mb4	UTF-8 Unicode	utf8mb4_general_ci	4
gbk	GBK charset	gbk_chinese_ci	2
utf16	UTF-16 Unicode	utf16_general_ci	2
gb18030	GB18030 charset	gb18030_chinese_ci	4
latin1	cp1252 West European	latin1_swedish_ci	1
gb18030_2022	GB18030-2022 charset	gb18030_2022_chinese_ci	4
SHOW COLLATION;
Collation	Charset	Id	Default	Compiled	Sortlen
utf8mb4_general_ci	utf8	45	Yes	Yes	1
utf8mb4_general_ci	utf8mb4	45	Yes	Yes	1
utf8mb4_bin	utf8mb4	46	 	Yes	1
gbk_chinese_ci	gbk	28	Yes	Yes	1
gbk_bin	gbk	87	 	Yes	1
utf16_general_ci	utf16	54	Yes	Yes	1
utf16_bin	utf16	55	 	Yes	1
gb18030_chinese_ci	gb18030	248	Yes	Yes	1
gb18030_bin	gb18030	249	 	Yes	1
latin1_swedish_ci	latin1	8	Yes	Yes	1
latin1_bin	latin1	47	 	Yes	1
gb18030_2022_bin	gb18030_2022	216	 	Yes	1
gb18030_2022_chinese_ci	gb18030_2022	217	Yes	Yes	1
gb18030_2022_chinese_cs	gb18030_2022	218	 	Yes	1
gb18030_2022_radical_ci	gb18030_2022	219	 	Yes	1
gb18030_2022_radical_cs	gb18030_2022	220	 	Yes	1
gb18030_2022_stroke_ci	gb18030_2022	221	 	Yes	1
gb18030_2022_stroke_cs	gb18030_2022	222	 	Yes	1
SHOW SESSION VARIABLES LIKE 'character\_set\_%';
variable_name	value
character_set_system	utf8mb4
character_set_server	utf8mb4
character_set_results	utf8mb4
character_set_filesystem	binary
character_set_database	utf8mb4
character_set_connection	utf8mb4
character_set_client	utf8mb4
SHOW SESSION VARIABLES LIKE 'collation\_%';
variable_name	value
collation_server	utf8mb4_general_ci
collation_database	utf8mb4_general_ci
collation_connection	utf8mb4_general_ci
SET NAMES utf8mb4;
select _gbk'ä¸­æ–‡' collate 'gbk_bin';
_gbk'ä¸­æ–‡' collate 'gbk_bin'
æ¶“î…Ÿæƒ
select concat(_latin1'ä¸­æ–‡',_latin1'ä¸­æ–‡');
concat(_latin1'ä¸­æ–‡',_latin1'ä¸­æ–‡')
Ã¤Â¸Â­Ã¦â€“â€¡Ã¤Â¸Â­Ã¦â€“â€¡
select concat_ws(',',_latin1'ä¸­æ–‡',_latin1'ä¸­æ–‡');
concat_ws(',',_latin1'ä¸­æ–‡',_latin1'ä¸­æ–‡')
Ã¤Â¸Â­Ã¦â€“â€¡,Ã¤Â¸Â­Ã¦â€“â€¡
select substring(_gbk'ä¸­æ–‡å­—ç¬¦',3);
substring(_gbk'ä¸­æ–‡å­—ç¬¦',3)
æƒç€›æ¥ƒîƒ
select length(_gbk'ä¸­æ–‡å­—ç¬¦');
length(_gbk'ä¸­æ–‡å­—ç¬¦')
12
select replace(_gbk'ä¸­æ–‡å­—ç¬¦',_gbk'ä¸­æ–‡',_gbk'æµ‹è¯•');
replace(_gbk'ä¸­æ–‡å­—ç¬¦',_gbk'ä¸­æ–‡',_gbk'æµ‹è¯•')
å¨´å¬­ç˜¯ç€›æ¥ƒîƒ
select left(_gbk'ä¸­æ–‡å­—ç¬¦',2);
left(_gbk'ä¸­æ–‡å­—ç¬¦',2)
æ¶“î…Ÿ
select right(_gbk'ä¸­æ–‡å­—ç¬¦',2);
right(_gbk'ä¸­æ–‡å­—ç¬¦',2)
æ¥ƒîƒ
select instr(_gbk'ä¸­æ–‡å­—ç¬¦',_gbk'å­—ç¬¦');
instr(_gbk'ä¸­æ–‡å­—ç¬¦',_gbk'å­—ç¬¦')
4
select ord(_gbk'ä¸­');
ord(_gbk'ä¸­')
58552
select convert(_utf8mb4'ä¸­æ–‡',char character set gbk);
convert(_utf8mb4'ä¸­æ–‡',char character set gbk)
ä¸­æ–‡
select cast(_utf16'ä¸­æ–‡' as char);
cast(_utf16'ä¸­æ–‡' as char)
î’¸ê·¦éš‡
select cast(_gbk'ä¸­æ–‡'as char character set gbk);
cast(_gbk'ä¸­æ–‡'as char character set gbk)
æ¶“î…Ÿæƒ
select char_length(_gbk'ä¸­æ–‡');
char_length(_gbk'ä¸­æ–‡')
3
select substring_index(_utf16'æµ‹è¯•,ä¸­æ–‡,å­—ç¬¦',',',2);
substring_index(_utf16'æµ‹è¯•,ä¸­æ–‡,å­—ç¬¦',',',2)
îšµè¯¨ê¾•â³¤ë¢­îš–èœ¬î–­éŸ§ê²¦
select find_in_set(_gbk'æµ‹è¯•',_gbk'ä¸­æ–‡,æµ‹è¯•,å­—ç¬¦');
find_in_set(_gbk'æµ‹è¯•',_gbk'ä¸­æ–‡,æµ‹è¯•,å­—ç¬¦')
2
select substr(_gbk'ä¸­æ–‡å­—ç¬¦', 3);
substr(_gbk'ä¸­æ–‡å­—ç¬¦', 3)
æƒç€›æ¥ƒîƒ
select lower(_utf8mb4'ä¸­æ–‡å­—ç¬¦');
lower(_utf8mb4'ä¸­æ–‡å­—ç¬¦')
ä¸­æ–‡å­—ç¬¦
select trim(_gbk' ä¸­æ–‡å­—ç¬¦ ');
trim(_gbk' ä¸­æ–‡å­—ç¬¦ ')
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
select replace(_gbk'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡', _gbk'æµ‹è¯•');
replace(_gbk'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡', _gbk'æµ‹è¯•')
å¨´å¬­ç˜¯ç€›æ¥ƒîƒ
select locate(_gbk'å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', 2);
locate(_gbk'å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', 2)
4
select ceil(_utf8mb4'ä¸­æ–‡');
ceil(_utf8mb4'ä¸­æ–‡')
0
select floor(_gbk'ä¸­æ–‡');
floor(_gbk'ä¸­æ–‡')
0
create database db_dml;
use db_dml;
create table t1(data_binary varchar(255) charset 'binary', data_gbk varchar(255) charset 'gbk', data_gb18030 varchar(255) charset 'gb18030', data_utf16 varchar(255) charset 'utf16', data_utf8mb4 varchar(255) charset 'utf8mb4', data_latin1 varchar(255) charset 'latin1');
insert into t1 values(_binary'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', _gb18030'ä¸­æ–‡å­—ç¬¦', _utf16'ä¸­æ–‡å­—ç¬¦', _utf8mb4'ä¸­æ–‡å­—ç¬¦', _latin1'ä¸­æ–‡å­—ç¬¦');
insert into t1 values(_binary'ä¸­æ–‡', _gbk'ä¸­æ–‡', _gb18030'ä¸­æ–‡', _utf16'ä¸­æ–‡', _utf8mb4'ä¸­æ–‡', _latin1'ä¸­æ–‡');
insert into t1 values(_binary'ä¸­å›½', _gbk'ä¸­å›½', _gb18030'ä¸­å›½', _utf16'ä¸­å›½', _utf8mb4'ä¸­å›½', _latin1'ä¸­å›½');
update t1 set data_binary = _binary'è‹±æ–‡å­—ç¬¦' where data_binary = _binary'ä¸­æ–‡å­—ç¬¦';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	ä¸­æ–‡	Ã¤Â¸Â­Ã¦â€“â€¡
ä¸­å›½	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­å›½	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_utf8mb4 = _utf8mb4'è‹±æ–‡' where data_utf8mb4 = _utf8mb4'ä¸­æ–‡';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	è‹±æ–‡	Ã¤Â¸Â­Ã¦â€“â€¡
ä¸­å›½	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­å›½	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_latin1 = _latin1'è‹±æ–‡' where data_latin1 = _latin1'ä¸­æ–‡';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	è‹±æ–‡	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­å›½	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­å›½	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_gbk = _gbk'ä¸­æ–‡' where data_gbk > _gbk'ä¸­æ–‡';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	è‹±æ–‡	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­å›½	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­å›½	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_utf8mb4 = _utf8mb4'ä¸­ç‰¹' where data_utf8mb4 < _utf8mb4'ä¸­æ–‡';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	è‹±æ–‡	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­å›½	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­ç‰¹	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_binary = _binary'ä¸­æ–‡' where data_binary like _binary'ä¸­å›½%';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	è‹±æ–‡	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­æ–‡	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­ç‰¹	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_utf16 = _utf16'æµ‹è¯•' where data_utf16 <= _utf16'ä¸­æ–‡å­—ç¬¦' and data_utf16 >= _utf16'ä¸­æ–‡';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	îšµè¯¨ê¾•	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	îšµè¯¨ê¾•	è‹±æ–‡	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­æ–‡	æ¶“î…æµ—	æ¶“î…æµ—	î’¸ê·¥é®½	ä¸­ç‰¹	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_gb18030 = _gb18030'åˆ†å¸ƒ' where  data_gb18030 between _gb18030'ä¸­' and _gb18030'ä¸­æ–‡';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	îšµè¯¨ê¾•	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	é’å——ç«·	îšµè¯¨ê¾•	è‹±æ–‡	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­æ–‡	æ¶“î…æµ—	é’å——ç«·	î’¸ê·¥é®½	ä¸­ç‰¹	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_utf8mb4 = _utf8mb4'ä¸­æŠ•é“ä»”' where data_utf8mb4 in(_utf8mb4'è‹±', _utf8mb4'è‹±æ–‡');
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	îšµè¯¨ê¾•	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	é’å——ç«·	îšµè¯¨ê¾•	ä¸­æŠ•é“ä»”	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­æ–‡	æ¶“î…æµ—	é’å——ç«·	î’¸ê·¥é®½	ä¸­ç‰¹	Ã¤Â¸Â­Ã¥â€ºÂ½
select * from t1 where data_gbk = _gbk'ä¸­æ–‡';
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	îšµè¯¨ê¾•	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	é’å——ç«·	îšµè¯¨ê¾•	ä¸­æŠ•é“ä»”	Ã¨â€¹Â±Ã¦â€“â€¡
select * from t1 where data_utf8mb4 not in(_utf8mb4'è‹±', _utf8mb4'è‹±æ–‡');
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	îšµè¯¨ê¾•	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
ä¸­æ–‡	æ¶“î…Ÿæƒ	é’å——ç«·	îšµè¯¨ê¾•	ä¸­æŠ•é“ä»”	Ã¨â€¹Â±Ã¦â€“â€¡
ä¸­æ–‡	æ¶“î…æµ—	é’å——ç«·	î’¸ê·¥é®½	ä¸­ç‰¹	Ã¤Â¸Â­Ã¥â€ºÂ½
update t1 set data_gbk = _gbk'æµ‹è¯•æ–‡å­—' where data_gbk = _utf16'æµ‹è¯•å­—ç¬¦';
ERROR 25S03: YAO-119: Illegal type, error code = -5023
select * from t1 where data_gbk = _gbk'æµ‹è¯•æ–‡å­—';
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
delete from t1 where data_gb18030 = _gb18030'åˆ†å¸ƒ';
select * from t1;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
è‹±æ–‡å­—ç¬¦	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	îšµè¯¨ê¾•	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
create table t2(data_binary varchar(255) charset 'binary', data_gbk varchar(255) charset 'gbk', data_gb18030 varchar(255) charset 'gb18030', data_utf16 varchar(255) charset 'utf16', data_utf8mb4 varchar(255) charset 'utf8mb4', data_latin1 varchar(255) charset 'latin1');
insert into t2 values(_binary'ä¸­æŠ•', _gbk'ä¸­æŠ•', _gb18030'ä¸­æŠ•', _utf16'ä¸­æŠ•', _utf8mb4'ä¸­æŠ•', _latin1'ä¸­æŠ•');
insert into t2 values(_binary'ä¸­æŠ•é“ä»”', _gbk'ä¸­æŠ•é“ä»”', _gb18030'ä¸­æŠ•é“ä»”', _utf16'ä¸­æŠ•é“ä»”', _utf8mb4'ä¸­æŠ•é“ä»”', _latin1'ä¸­æŠ•é“ä»”');
insert into t2 values(_binary'ä¸­æŠ•é“ä»”å¤§å¸ˆ', _gbk'ä¸­æŠ•é“ä»”å¤§å¸ˆ', _gb18030'ä¸­æŠ•é“ä»”å¤§å¸ˆ', _utf16'ä¸­æŠ•é“ä»”å¤§å¸ˆ', _utf8mb4'ä¸­æŠ•é“ä»”å¤§å¸ˆ', _latin1'ä¸­æŠ•é“ä»”å¤§å¸ˆ');
delete from t2 where data_gbk < _gbk'ä¸­æŠ•é“ä»”';
select * from t2;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
ä¸­æŠ•é“ä»”	æ¶“î…Ÿå§‡é—ˆæ’²ç²©	æ¶“î…Ÿå§‡é—ˆæ’²ç²©	î’¸ê·¦èª•î¦é¤ë®”	ä¸­æŠ•é“ä»”	Ã¤Â¸Â­Ã¦Å â€¢Ã©Ââ€œÃ¤Â»â€
ä¸­æŠ•é“ä»”å¤§å¸ˆ	æ¶“î…Ÿå§‡é—ˆæ’²ç²©æ¾¶Ñƒç¬€	æ¶“î…Ÿå§‡é—ˆæ’²ç²©æ¾¶Ñƒç¬€	î’¸ê·¦èª•î¦é¤ë®”î–¤êŸ¥ë¢ˆ	ä¸­æŠ•é“ä»”å¤§å¸ˆ	Ã¤Â¸Â­Ã¦Å â€¢Ã©Ââ€œÃ¤Â»â€Ã¥Â¤Â§Ã¥Â¸Ë†
select * from t1 join t2 on t1.data_utf8mb4 = t2.data_utf8mb4;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1	data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
create database db_coll;
use db_coll;
create table t1 (data_general_ci varchar(255) collate 'utf8mb4_general_ci', data_bin varchar(255) collate 'utf8mb4_bin');
insert into t1 (data_general_ci, data_bin) values ('apple', 'apple'), ('Apple', 'Apple'), ('banana', 'banana'), ('Orange', 'Orange'), ('orange', 'orange');
select data_general_ci from t1 order by data_general_ci collate utf8mb4_general_ci;
data_general_ci
apple
Apple
banana
Orange
orange
select data_general_ci from t1 group by data_general_ci collate utf8mb4_general_ci;
data_general_ci
apple
banana
Orange
select data_bin from t1 order by data_bin;
data_bin
Apple
Orange
apple
banana
orange
select distinct binary data_general_ci from t1;
binary data_general_ci
Apple
Orange
apple
banana
orange
select distinct data_general_ci collate utf8mb4_general_ci from t1;
data_general_ci collate utf8mb4_general_ci
apple
banana
Orange
select max(data_bin collate utf8mb4_bin) from t1;
max(data_bin collate utf8mb4_bin)
orange
create table t2 (data_swedish_ci varchar(255)) collate 'latin1_swedish_ci';
alter table t2 collate 'latin1_bin';
alter table t2 add column data_bin varchar(255);
insert into t2(data_swedish_ci, data_bin) values ('apple', 'apple'), ('Banana', 'Banana'), ('Orange', 'Orange'), ('grape', 'grape'), ('Grape', 'Grape');
select data_swedish_ci from t2 order by data_swedish_ci ;
data_swedish_ci
apple
Banana
grape
Grape
Orange
select data_bin from t2 order by data_bin;
data_bin
Banana
Grape
Orange
apple
grape
select distinct binary data_swedish_ci from t2;
binary data_swedish_ci
Banana
Grape
Orange
apple
grape
select * from t2 where data_bin='apple' collate utf8mb4_bin;
data_swedish_ci	data_bin
apple	apple
create table t11(data_binary varchar(255) charset 'binary', data_gbk varchar(255) charset 'gbk', data_gb18030 varchar(255) charset 'gb18030', data_utf16 varchar(255) charset 'utf16', data_utf8mb4 varchar(255) charset 'utf8mb4', data_latin1 varchar(255) charset 'latin1');
insert into t11 values(_binary'ä¸­æ–‡', _gbk'ä¸­æ–‡', _gb18030'ä¸­æ–‡', _utf16'ä¸­æ–‡', _utf8mb4'ä¸­æ–‡', _latin1'ä¸­æ–‡');
insert into t11 values(_binary'ä¸­æ–‡å­—ç¬¦', _gbk'ä¸­æ–‡å­—ç¬¦', _gb18030'ä¸­æ–‡å­—ç¬¦', _utf16'ä¸­æ–‡å­—ç¬¦', _utf8mb4'ä¸­æ–‡å­—ç¬¦', _latin1'ä¸­æ–‡å­—ç¬¦');
insert into t11 values(_binary'æµ‹è¯•', _gbk'æµ‹è¯•', _gb18030'æµ‹è¯•', _utf16'æµ‹è¯•', _utf8mb4'æµ‹è¯•', _latin1'æµ‹è¯•');
insert into t11 values(_binary'ä¸­æ–‡', _gbk'ä¸­æ–‡', _gb18030'ä¸­æ–‡', _utf16'ä¸­æ–‡', _utf8mb4'ä¸­æ–‡', _latin1'ä¸­æ–‡');
select sum(data_gbk) from t11;
sum(data_gbk)
0
select avg(data_gbk) from t11;
avg(data_gbk)
0
select min(data_gbk) from t11;
min(data_gbk)
æ¶“î…Ÿæƒ
select max(data_gbk) from t11;
max(data_gbk)
å¨´å¬­ç˜¯
select count(data_gbk) from t11;
count(data_gbk)
4
select data_gbk as data1 from t11 order by data_gbk;
data1
æ¶“î…Ÿæƒ
æ¶“î…Ÿæƒ
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
å¨´å¬­ç˜¯
select data_gbk from t11 group by data_gbk;
data_gbk
æ¶“î…Ÿæƒ
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
å¨´å¬­ç˜¯
select data_gbk from t11 group by data_gbk order by data_gbk asc;
data_gbk
æ¶“î…Ÿæƒ
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
å¨´å¬­ç˜¯
select distinct data_gbk from t11 order by data_gbk desc;
data_gbk
å¨´å¬­ç˜¯
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
æ¶“î…Ÿæƒ
select data_gbk from t11 group by data_gbk having data_gbk = _gbk'ä¸­æ–‡å­—ç¬¦' order by data_gbk desc;
data_gbk
æ¶“î…Ÿæƒç€›æ¥ƒîƒ
select * from t11 where data_binary='ä¸­æ–‡' collate utf8mb4_bin;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	ä¸­æ–‡	Ã¤Â¸Â­Ã¦â€“â€¡
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	ä¸­æ–‡	Ã¤Â¸Â­Ã¦â€“â€¡
set names gb18030;
select * from t11;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
ä¸­æ–‡	ä¸­æ–‡	ä¸­æ–‡	şñ‚8‚1ê	ÖĞÎÄ	0Š10†00…20Š3¨C6¦0
ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	ä¸­æ–‡å­—ç¬¦	şñ‚8‚1ê£gÈÍ‚7à1	ÖĞÎÄ×Ö·û	0Š10†00…20Š3¨C6¦00Š20…2¡ª0Š40…10„7
æµ‹è¯•	æµ‹è¯•	æµ‹è¯•	¦OÚ»‚8­2	²âÊÔ	0Š30…86§8¨¨0…46¦1
ä¸­æ–‡	ä¸­æ–‡	ä¸­æ–‡	şñ‚8‚1ê	ÖĞÎÄ	0Š10†00…20Š3¨C6¦0
set names latin1;
select * from t11;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
ä¸­æ–‡	???	???	???	??	ä¸­æ–‡
ä¸­æ–‡å­—ç¬¦	??????	??????	??????	????	ä¸­æ–‡å­—ç¬¦
æµ‹è¯•	???	???	???	??	æµ‹è¯•
ä¸­æ–‡	???	???	???	??	ä¸­æ–‡
set names utf8mb4;
select * from t11;
data_binary	data_gbk	data_gb18030	data_utf16	data_utf8mb4	data_latin1
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	ä¸­æ–‡	Ã¤Â¸Â­Ã¦â€“â€¡
ä¸­æ–‡å­—ç¬¦	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	æ¶“î…Ÿæƒç€›æ¥ƒîƒ	î’¸ê·¦éš‡î–­éŸ§ê²¦	ä¸­æ–‡å­—ç¬¦	Ã¤Â¸Â­Ã¦â€“â€¡Ã¥Â­â€”Ã§Â¬Â¦
æµ‹è¯•	å¨´å¬­ç˜¯	å¨´å¬­ç˜¯	îšµè¯¨ê¾•	æµ‹è¯•	Ã¦Âµâ€¹Ã¨Â¯â€¢
ä¸­æ–‡	æ¶“î…Ÿæƒ	æ¶“î…Ÿæƒ	î’¸ê·¦éš‡	ä¸­æ–‡	Ã¤Â¸Â­Ã¦â€“â€¡
select charset('abc');
charset('abc')
utf8mb4
select collation('abc');
collation('abc')
utf8mb4_general_ci
select coercibility('abc');
coercibility('abc')
4
create table test_table (id int, name varchar(50), description varchar(255)) charset 'utf8mb4' collate 'utf8mb4_general_ci';
create index idx_name on test_table(name);
insert into test_table (id, name, description) values(1, 'Apple', 'Fruit'), (2, 'banana', 'Fruit'), (3, 'Orange', 'Fruit'), (4, 'Grapes', 'Fruit');
set names utf8mb4;
select * from test_table where name like 'A%' collate utf8mb4_general_ci;
id	name	description
1	Apple	Fruit
select * from test_table order by name collate utf8mb4_general_ci;
id	name	description
1	Apple	Fruit
2	banana	Fruit
4	Grapes	Fruit
3	Orange	Fruit
select * from test_table order by name collate utf8mb4_bin;
id	name	description
1	Apple	Fruit
4	Grapes	Fruit
3	Orange	Fruit
2	banana	Fruit
create table test_c (id int, name varchar(255), description varchar(255)) charset 'utf8mb4' collate 'utf8mb4_general_ci';
create index idx_chinese_name on test_c(name);
insert into test_c (id, name, description) values (1, _gbk'å¼ ä¸‰',  _gbk'è¿™æ˜¯å¼ ä¸‰'), (2, _utf16'æå››', _utf16'è¿™æ˜¯æå››'), (3, _latin1'ç‹äº”', _latin1'è¿™æ˜¯ç‹äº”'), (4, _utf8mb4'èµµå…­', _utf8mb4'è¿™æ˜¯èµµå…­');
select * from test_c where name=_latin1'ç‹äº”';
id	name	description
3	Ã§Å½â€¹Ã¤Âºâ€	Ã¨Â¿â„¢Ã¦ËœÂ¯Ã§Å½â€¹Ã¤Âºâ€
select * from test_c where name=_utf16'ç‹äº”';
id	name	description
select * from test_c where name=_utf8mb4'èµµå…­';
id	name	description
4	èµµå…­	è¿™æ˜¯èµµå…­
select * from test_c where name=_gbk'èµµå…­';
id	name	description
