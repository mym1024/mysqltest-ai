--source merge.sql
##############################################################################################
###1.测试功能点：索引表所有列不超过100列
##
#
###2.测试项：(每新添一测试项，需在添加前注明测试项，注释填写在新添sq1前，不填在此处，如下样例）
###3.问题网址：xxx
###4.问题号：xxx
###5.预计运行时间：96s
###6.编写/修改人：zhuyinying
###7.编写/修改日期：2019-9-30
###8.其他（选填）：case格式规范化修改
###
##
#
##############################################################################################

#####################################Do sql###################################################

--disable_warnings
drop table if exists t1;
--enable_warnings

--disable_query_log
--enable_query_log

#创建具有102列的数据表
--let $head= create table t1(c1 int primary key
--let $sql=
--let $count=102
while($count!=1)
{
--let $sql=$sql, c$count int
dec $count;
}
--let $end=)
eval $head$sql$end;

#2-1索引表所有列<100，为99列
--let $index_head= create index i1 on t1(c1) storing (c2 
--let $index_sql=
--let $index_count=99
while($index_count!=2)
{
--let $index_sql=$index_sql , c$index_count
dec $index_count;
}

eval $index_head$index_sql$end;
drop index i1 on t1;
show index on t1;

#2-2索引表所有列=100
eval create index il1 on t1(c1) storing (c2$index_sql,c100$end;
drop index il1 on t1;
show index on t1;


#2-3索引表所有列>100,is 101
--error 5042
eval create index il2 on t1(c1) storing (c2$index_sql,c100,c101$end;

show index on t1;
drop table t1;


###///新添测试项///###
###2-x:(新增测试项说明)
#do sql
########################################################################################################
