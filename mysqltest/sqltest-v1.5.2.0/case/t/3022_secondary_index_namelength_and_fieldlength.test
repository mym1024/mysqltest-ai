--source merge.sql
##############################################################################################
###1.测试功能点：数据表和索引表的命名长度和字段长度
##
#
###2.测试项：(每新添一测试项，需在添加前注明测试项，注释填写在新添sq1前，不填在此处，如下样例）
###3.问题网址：xxx
###4.问题号：xxx
###5.预计运行时间：894s
###6.编写/修改人：zhuyinying
###7.编写/修改日期：2019-10-10
###8.其他（选填）：case格式规范化修改
###
##
#
##############################################################################################

#####################################Do sql###################################################
alter system set balance_max_concurrent_migrate_num=30 server_type=yaoadminsvr;
alter system set balance_max_migrate_in_per_ds=6 server_type=yaoadminsvr;
alter system set balance_max_migrate_out_per_ds=6 server_type=yaoadminsvr;
alter system set max_migrate_task_count=6 server_type=yaodatasvr;

--disable_warnings
drop table if exists t1;
--enable_warnings
--disable_query_log
--enable_query_log

###2-1：创建数据表中字段个数为494
--let $sql_head=create table t1(c1 int primary key
--let $sql = 
--let $column=c
--let $count=495
--let $sql_end= int
while($count!=2)
{
--let $sql =$sql , $column$count $sql_end
dec $count;
}

--let $query=$sql_head$sql)
echo $query;
eval $query;
desc t1;
drop table if exists t1;

###2-2:创建数据表中字段个数为494，且字段名由超长字段组成
--let $sql_head=create table t1(c1 int primary key
--let $sql = 
--let $column=cccc012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789
--let $count=494
--let $sql_end= int
while($count!=1)
{
--let $sql =$sql , $column$count $sql_end
dec $count;
}

--let $query=$sql_head$sql)
echo $query;
eval $query;
desc t1;
drop table t1;

###2-3:创建具有超长数据表名中，具有超长字段名称，494个字段的数据表的可用性
--let $sql_head=create table ttttt0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789( c1 int
--let $sql = 
--let $column=cccc012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789
--let $count=494
--let $sql_type= int
while($count!=1)
{
--let $sql =$sql , $column$count $sql_type
dec $count;
}
--let $sql_end=,primary key (cccc0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567899,cccc0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567892,cccc0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567893,cccc0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567894))
--let $query=$sql_head$sql$sql_end
echo $query;
eval $query;
desc ttttt0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789;
create index ildx01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 on ttttt0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 (c1) storing(cccc012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789494);
show index on ttttt0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789;
show index on ttttt0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789;
###///新添测试项///###
###2-x:(新增测试项说明)
#do sql
########################################################################################################
