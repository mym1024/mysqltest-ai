##############################################################################################
###1.测试功能点：测试删除分区规则
##
#
###2.测试项：(每新添一测试项，需在添加前注明测试项，注释填写在新添sq1前，不填在此处，如下样例）
###3.问题网址：xxx
###4.问题号：xxx
###5.预计运行时间：xxx
###6.编写/修改人：zhuyinying
###7.编写/修改日期：2019-12-23
###8.其他（选填）：case格式规范化修改
###
##
#
##############################################################################################

#####################################Do sql###################################################
--sleep 2

###2-1:删除已有分区规则
--error 5077
drop partition function h1;
create hash partition function h1(x) 'x+1';
drop partition function h1;
show partition functions;
create enum partition function e1(x) '[(1),(2)]';
drop partition function e1;
show partition functions;
create hash partition function h1(x) 'x+1';
drop partition function H1;
show partition functions;
create enum partition function e1(x) '[(1),(2)]';
drop partition function E1;
show partition functions;
create hash partition function h1(x) 'x+1';
create hash partition function h2(x) 'x+1';
create hash partition function h3(x) 'x+1';
drop partition function h1,h2,h3;
show partition functions;
create enum partition function e1(x) '[(1),(2)]';
create enum partition function e2(x) '[(1),(2)]';
create enum partition function e3(x) '[(1),(2)]';
drop partition function e1,e2,e3;
show partition functions;
create hash partition function h1(x) 'x+1';
create hash partition function h2(x) 'x+1';
create enum partition function e3(x) '[(1),(2)]';
drop partition function H1,h2,E3;
show partition functions;
create hash partition function h1(x) 'x+1';
create hash partition function h2(x) 'x+1';
create enum partition function e3(x) '[(1),(2)]';
drop partition function h1,h2,e3;

###2-2:删除不存在的分区
show partition functions;
--error 5077
drop partition function fh;
show partition functions;
create hash partition function h1(x) 'x+1';
create hash partition function h2(x) 'x+1';
--error 5077
drop partition function h1,h2,h3;
show partition functions;
drop partition function h1;
show partition functions;
--error 65535
drop partition function __h1;
show partition functions;
--error 5019
drop table t1;
--error 5077
drop partition function h1;
create hash partition function h1(x) 'x+1';
create table t1(c1 int primary key,c2 int) partition by(a,h1,c1);
--error 65535
drop partition function h1;
show partition functions;
drop table t1;
drop partition function h1,h2;
create hash partition function h1(x) 'x+1';
create hash partition function h2(x) 'x+1';
create table t1(c1 int primary key,c2 int) partition by(a,h1,c1);
--error 65535
drop partition function h1,h2;
show partition functions;
drop table t1;
drop partition function h1,h2;

###///新添测试项///###
###2-x:(新增测试项说明)
#do sql
########################################################################################################
