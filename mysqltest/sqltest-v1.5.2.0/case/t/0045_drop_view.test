##############################################################################################
###1.测试功能点：drop view
##
#
###2.测试项：(每新添一测试项，需在添加前注明测试项，注释填写在新添sq1前，不填在此处，如下样例）
###3.问题网址：xxx
###4.问题号：xxx
###5.预计运行时间：xxx
###6.编写/修改人：wangjuntao
###7.编写/修改日期：20210201
###8.其他（选填）：case格式规范化修改
###
##
#
##############################################################################################

#####################################Do sql###################################################

###2-1:不使用if exists关键字，删除一个视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
select * from __all_view;
drop view v1;
show tables;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;


###2-2:不使用if exists关键字，删除多个视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
create view v2 as select 1*2*5*7;
select * from __all_view;
drop view v1,v2;
show tables;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;


###2-3:不使用if exists关键字，删除多个视图,使用数据库名称限定，删除多个其他数据库的视图以及当前数据库的视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create database db;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view db.v1 as select t1.c1,t1.c2 ,c3 from t1;
create view db.v2 as select c5 from t1;
create view v2 as select 1*2*5*7;
select * from __all_view;
drop view db.v1,db.v2,v2;
show tables;
select * from __all_view;
drop view if exists db.v1,db.v2,v1,v2,v3;
drop database db;
drop table if exists t1,t2,t3;


###2-4:使用if exists关键字，删除一个存在的视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
select * from __all_view;
drop view if exists v1;
show tables;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;


###2-5:使用if exists关键字，删除多个存在视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
create view v2 as select 1*2*5*7;
select * from __all_view;
drop view if exists v1,v2;
show tables;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;

###2-6:使用if exists关键字，删除多个不存在视图
drop view if exists v1,v2,v3,vv1,vv2;


###2-7:使用if exists关键字，删除多个视图,其中部分视图存在，部分视图不存在
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
select * from __all_view;
drop view if exists v1,vv1,vv2;
show tables;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;

###2-8:使用if exists关键字，删除当前数据库下的多个视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
create view v2 as select t1.c1,t1.c2 ,c3 from t1;
create view v3 as select * from v1;
create view v4 as select * from v2;
select * from __all_view;
drop view if exists v1,v2,v3,v4;
show tables;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;


###2-9:使用if exists关键字，使用数据库名称限定，删除多个其他数据库的视图
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create database db;
using database db;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
create view v2 as select t1.c1,t1.c2 ,c3 from t1;
create view v3 as select * from v1;
create view v4 as select * from v2;
using database "yao";
select * from __all_view;
drop view if exists db.v1,db.v2,db.v3,db.v4;
select * from __all_view;
drop table if exists db.t1;
drop view if exists db.v1,db.v2,db.v3,db.v4;
drop database db;


###2-10:使用if exists关键字，使用数据库名称限定，删除多个其他数据库的视图以及当前数据库的视图[ng:报错OB-5020:Not unique view:'db.v1']
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create database db;
using database db;
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
create view v2 as select t1.c1,t1.c2 ,c3 from t1;
create view v3 as select * from v1;
create view v4 as select * from v2;
using database "yao";
create table t1(c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321321.123123',true),(-12321112147483647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create view v1 as select t1.c1,t1.c2 ,c3 from t1;
create view v2 as select t1.c1,t1.c2 ,c3 from t1;
create view v3 as select * from v1;
create view v4 as select * from v2;
select * from __all_view;
drop view if exists db.v1,db.v2,db.v3,db.v4,v1,v2,v3,v4;
select * from __all_view;
drop view if exists db.v1,db.v2,db.v3,db.v4,v1,v2,v3,v4;
drop table if exists db.t1,"yao".t1;
drop database db;


