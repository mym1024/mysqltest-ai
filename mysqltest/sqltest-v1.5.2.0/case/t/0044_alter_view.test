##############################################################################################
###1.测试功能点：create view:select_stmt
##
#
###2.测试项：(每新添一测试项，需在添加前注明测试项，注释填写在新添sq1前，不填在此处，如下样例）
###3.问题网址：xxx
###4.问题号：xxx
###5.预计运行时间：xxx
###6.编写/修改人：wangjuntao
###7.编写/修改日期：20210201
###8.其他（选填）：case格式规范化修改
###
##
#
##############################################################################################

#####################################Do sql###################################################
set character_set_results='utf8mb4';
set character_set_connection='utf8mb4';
set character_set_client='utf8mb4';
###2-1:修改视图列名长度为边界值
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1 (c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321312.123123',true),(-12321112147482647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create or replace view v1 (c1) as select c1 from t1;
alter view v1 ("列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列列") as  select c2 from t1 with check option;
desc v1;
select * from v1;
select c1 from t1;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;

###2-2:修改视图列名为对应大小写字符
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1 (c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321312.123123',true),(-12321112147482647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create or replace view v1 (c1) as select c1 from t1;
alter view v1 ("C1c") as select c2 from t1 with check option;
desc v1;
select * from v1;
select c1 from t1;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;

###2-3:修改视图列名为汉字、希腊字母等
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1 (c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321312.123123',true),(-12321112147482647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create or replace view v1 (c1C) as select c1 from t1;
alter view v1 ("列β") as select c2 from t1 with check option;
desc v1;
select * from v1;
select c1 from t1;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;

###2-4:修改视图select语句
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1 (c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321312.123123',true),(-12321112147482647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create or replace view v1 (c1C) as select c1 from t1;
alter view v1 (c1C) as select c3 from t1;
desc v1;
select * from v1;
select c3 from t1;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;


###2-5:修改视图with check option子句
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3,v4;
create table t1 (c1 bigint primary key,c2 int,c3 float,c4 double,c5 decimal(10,5),c6 varchar(100),c7 bool);
insert into t1 values(12321112147483647,2,3.15,5.57,77777.97687,'12321312.123123',true),(-12321112147482647,-2,-3.15,-5.5656,-77777.77777,'-7878787.3569',false);
create or replace view v1 (c1C) as select c1 from t1;
alter view v1 (c1C) as select c3 from t1 with local check option;
desc v1;
select * from v1;
select c3 from t1;
select * from __all_view;
drop table if exists t1,t2,t3;
drop view if exists v1,v2,v3;
