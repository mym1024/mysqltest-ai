--disable_query_log
set sql_quote_show_create=0;
--enable_query_log
####################################必填######################################################
###1.测试功能点：全主键、无主键、自增主键列表
##
#
###2.测试项：(每新添一测试项，需在添加前注明测试项，注释填写在新添sq1前，不填在此处，如下样例）
###3.问题网址：xxx
###4.问题号：xxx
###5.预计运行时间：
###6.编写/修改人：
###7.编写/修改日期：
###8.其他（选填）：
###
##
#
##############################################################################################

#####################################Do sql###################################################

###2-1：多列无主键表
create table test_no_pk(c1 int,c2 varchar(10));
ALTER TABLE test_no_pk ADD c3 int;
ALTER TABLE test_no_pk DROP c3;
insert into test_no_pk values(1,'a');
insert into test_no_pk values(1,'a'),(2,'c'),(2,'c'),(3,'c'),(3,'c');
UPDATE test_no_pk  set c2 = 'dd' WHERE c1 = 1;
update test_no_pk  set c2 = 'cc';
select * from test_no_pk;
select * from test_no_pk where c1=1;
select count(*) from test_no_pk;
desc test_no_pk;
show create table test_no_pk;
drop table if exists test_no_pk;

###2-2：单列无主键表
create table test_no_pk(c1 int);
ALTER TABLE test_no_pk ADD c3 int;
ALTER TABLE test_no_pk DROP c3;
insert into test_no_pk values(1);
insert into test_no_pk values(1),(2),(2),(3),(3),(4),(4);
select * from test_no_pk;
update test_no_pk  set c1 = 5;
select * from test_no_pk;
select count(*) from test_no_pk;
desc test_no_pk;
show create table test_no_pk;
drop table if exists test_no_pk;

###2-3：自增列主键
drop table if exists test_auto;
create table test_auto(c1 int auto_increment primary key,c2 varchar(10));
ALTER TABLE test_auto ADD c3 int;
ALTER TABLE test_auto DROP c3;
insert into test_auto(c2) values('a');
insert into test_auto(c2) values('a'),('c'),('a'),('c'),('b'),('d');
UPDATE test_auto  set c2 = 'dd' WHERE c1 = 1;
update test_auto  set c2 = 'cc';
select * from test_auto;
select * from test_auto where c1=1;
select count(*) from test_auto;
show create table test_auto;
truncate table test_auto;
desc test_auto;
drop table if exists test_auto;

###2-4多列全主键
drop table if exists test_pk;
create table test_pk(c1 int  ,c2 varchar(10),primary key(c1,c2));
ALTER TABLE test_pk ADD c3 int;
ALTER TABLE test_pk DROP c3;
insert into test_pk values(1,'a');
insert into test_pk values(1,'aa'),(2,'c');
UPDATE test_pk  set c2 = 'dd' WHERE c1 = 2;
select * from test_pk;
select * from test_pk where c1=1;
select count(*) from test_pk;
truncate table test_pk;
desc test_pk;
show create table test_pk;
drop table if exists test_pk;

###2-5单列全主键
create table test_pk(c1 int  primary key);
ALTER TABLE test_pk ADD c3 int;
ALTER TABLE test_pk DROP c3;
insert into test_pk values(1);
insert into test_pk values(11),(2),(3),(4);
select * from test_pk;
select * from test_pk where c1=1;
select count(*) from test_pk;
truncate table test_pk;
desc test_pk;
show create table test_pk;
drop table if exists test_pk;

#do sql
########################################################################################################
